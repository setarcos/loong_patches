diff --git a/PKGBUILD b/PKGBUILD
index 606d623..18cebd7 100644
--- a/PKGBUILD
+++ b/PKGBUILD
@@ -16,15 +16,18 @@ optdepends=(
   'criu: checkpoint support'
 )
 source=("${pkgname}-${pkgver}.tar.xz::https://github.com/opencontainers/runc/releases/download/v${pkgver}/runc.tar.xz"
-        "${pkgname}-${pkgver}.tar.xz.sig::https://github.com/opencontainers/runc/releases/download/v${pkgver}/runc.tar.xz.asc")
+        "${pkgname}-${pkgver}.tar.xz.sig::https://github.com/opencontainers/runc/releases/download/v${pkgver}/runc.tar.xz.asc"
+        runc-la64.patch)
 validpgpkeys=("5F36C6C61B5460124A75F5A69E18AA267DDB8DB4"
 			  "C9C370B246B09F6DBCFC744C34401015D1D2D386")
 sha256sums=('47d9e34500e478d860512b3b646724ee4b9e638692122ddaa82af417668ca4d7'
-            'SKIP')
+            'SKIP'
+            '6027791a177bbc22751eecd0bca41ffc4287fbdbdd757c27dab6cd29e0d425f4')
 
 prepare() {
   mkdir -p src/github.com/opencontainers
   cp -r runc-${pkgver} src/github.com/opencontainers/runc
+  patch -d ${pkgname}-${pkgver} -p1 -i $srcdir/runc-la64.patch
 }
 
 build() {
@@ -36,7 +39,15 @@ build() {
   export CGO_CXXFLAGS="${CXXFLAGS}"
   export CGO_LDFLAGS="${LDFLAGS}"
   export GOFLAGS="-trimpath -mod=readonly -modcacherw"
-  make runc man
+  export GOPROXY=https://goproxy.cn
+  go mod edit -replace=golang.org/x/sys=github.com/golang/sys@v0.0.0-20220622161953-175b2fd9d664
+  go mod edit -replace=golang.org/x/net=github.com/golang/net@v0.0.0-20220622184535-263ec571b305
+  go mod tidy
+  make GO_BUILDMODE="" runc man || true
+# patch the depends code
+  cd $srcdir && patch -d src/github.com/opencontainers/runc/ -p1 -i $srcdir/runc-la64.patch
+  cd src/github.com/opencontainers/runc
+  make GO_BUILDMODE="" runc man
 }
 
 package() {
